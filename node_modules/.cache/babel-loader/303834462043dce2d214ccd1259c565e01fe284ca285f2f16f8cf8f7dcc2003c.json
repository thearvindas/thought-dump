{"ast":null,"code":"var _jsxFileName = \"/Users/arvindas/Projects/thought-dump/src/components/Whiteboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport Matter from 'matter-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = styled.canvas`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n_c = Canvas;\nconst Whiteboard = ({\n  thoughts\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const engineRef = useRef(null);\n  const renderRef = useRef(null);\n  const bodiesRef = useRef([]);\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    // Create Matter.js engine\n    const engine = Matter.Engine.create();\n    engineRef.current = engine;\n\n    // Create renderer with correct type\n    const render = Matter.Render.create({\n      canvas: canvasRef.current,\n      engine: engine,\n      options: {\n        width: window.innerWidth,\n        height: window.innerHeight - 100,\n        // Account for chat input height\n        wireframes: false,\n        background: 'white'\n      }\n    });\n    renderRef.current = render;\n\n    // Add walls to contain thoughts\n    const wallOptions = {\n      isStatic: true,\n      render: {\n        visible: false\n      }\n    };\n    const walls = [Matter.Bodies.rectangle(0, window.innerHeight / 2, 50, window.innerHeight, wallOptions), Matter.Bodies.rectangle(window.innerWidth, window.innerHeight / 2, 50, window.innerHeight, wallOptions), Matter.Bodies.rectangle(window.innerWidth / 2, 0, window.innerWidth, 50, wallOptions), Matter.Bodies.rectangle(window.innerWidth / 2, window.innerHeight, window.innerWidth, 50, wallOptions)];\n    Matter.World.add(engine.world, walls);\n    Matter.Render.run(render);\n\n    // Animation loop\n    const runner = Matter.Runner.create();\n    Matter.Runner.run(runner, engine);\n\n    // Cleanup\n    return () => {\n      Matter.Render.stop(render);\n      Matter.Runner.stop(runner);\n      Matter.World.clear(engine.world, false);\n      Matter.Engine.clear(engine);\n      render.canvas.remove();\n    };\n  }, []);\n\n  // Update physics bodies when thoughts change\n  useEffect(() => {\n    if (!engineRef.current || !renderRef.current) return;\n    const engine = engineRef.current;\n    const render = renderRef.current;\n\n    // Remove old bodies\n    Matter.World.remove(engine.world, bodiesRef.current);\n    bodiesRef.current = [];\n\n    // Create new bodies for each thought\n    thoughts.forEach((thought, index) => {\n      const x = Math.random() * (window.innerWidth - 200) + 100;\n      const y = Math.random() * (window.innerHeight - 200) + 100;\n      const body = Matter.Bodies.rectangle(x, y, 200, 50, {\n        render: {\n          fillStyle: thought.color\n        },\n        isStatic: thought.isPinned\n      });\n      bodiesRef.current.push(body);\n      Matter.World.add(engine.world, body);\n    });\n  }, [thoughts]);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 10\n  }, this);\n};\n_s(Whiteboard, \"3JVBvZnEeW01iQQdtHj5mp7oGGw=\");\n_c2 = Whiteboard;\nexport default Whiteboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"Canvas\");\n$RefreshReg$(_c2, \"Whiteboard\");","map":{"version":3,"names":["React","useEffect","useRef","styled","Matter","jsxDEV","_jsxDEV","Canvas","canvas","_c","Whiteboard","thoughts","_s","canvasRef","engineRef","renderRef","bodiesRef","current","engine","Engine","create","render","Render","options","width","window","innerWidth","height","innerHeight","wireframes","background","wallOptions","isStatic","visible","walls","Bodies","rectangle","World","add","world","run","runner","Runner","stop","clear","remove","forEach","thought","index","x","Math","random","y","body","fillStyle","color","isPinned","push","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/Users/arvindas/Projects/thought-dump/src/components/Whiteboard.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport Matter from 'matter-js';\n\nconst Canvas = styled.canvas`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n\ninterface Thought {\n  id: number;\n  text: string;\n  color: string;\n  size: 'small' | 'medium' | 'large';\n  isPinned: boolean;\n}\n\ninterface WhiteboardProps {\n  thoughts: Thought[];\n}\n\nconst Whiteboard: React.FC<WhiteboardProps> = ({ thoughts }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const engineRef = useRef<Matter.Engine | null>(null);\n  const renderRef = useRef<Matter.Render | null>(null);\n  const bodiesRef = useRef<Matter.Body[]>([]);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    // Create Matter.js engine\n    const engine = Matter.Engine.create();\n    engineRef.current = engine;\n\n    // Create renderer with correct type\n    const render = Matter.Render.create({\n      canvas: canvasRef.current,\n      engine: engine,\n      options: {\n        width: window.innerWidth,\n        height: window.innerHeight - 100, // Account for chat input height\n        wireframes: false,\n        background: 'white',\n      },\n    } as Matter.IRenderDefinition);\n    renderRef.current = render;\n\n    // Add walls to contain thoughts\n    const wallOptions = { isStatic: true, render: { visible: false } };\n    const walls = [\n      Matter.Bodies.rectangle(0, window.innerHeight / 2, 50, window.innerHeight, wallOptions),\n      Matter.Bodies.rectangle(window.innerWidth, window.innerHeight / 2, 50, window.innerHeight, wallOptions),\n      Matter.Bodies.rectangle(window.innerWidth / 2, 0, window.innerWidth, 50, wallOptions),\n      Matter.Bodies.rectangle(window.innerWidth / 2, window.innerHeight, window.innerWidth, 50, wallOptions),\n    ];\n\n    Matter.World.add(engine.world, walls);\n    Matter.Render.run(render);\n\n    // Animation loop\n    const runner = Matter.Runner.create();\n    Matter.Runner.run(runner, engine);\n\n    // Cleanup\n    return () => {\n      Matter.Render.stop(render);\n      Matter.Runner.stop(runner);\n      Matter.World.clear(engine.world, false);\n      Matter.Engine.clear(engine);\n      render.canvas.remove();\n    };\n  }, []);\n\n  // Update physics bodies when thoughts change\n  useEffect(() => {\n    if (!engineRef.current || !renderRef.current) return;\n\n    const engine = engineRef.current;\n    const render = renderRef.current;\n\n    // Remove old bodies\n    Matter.World.remove(engine.world, bodiesRef.current);\n    bodiesRef.current = [];\n\n    // Create new bodies for each thought\n    thoughts.forEach((thought, index) => {\n      const x = Math.random() * (window.innerWidth - 200) + 100;\n      const y = Math.random() * (window.innerHeight - 200) + 100;\n      \n      const body = Matter.Bodies.rectangle(x, y, 200, 50, {\n        render: {\n          fillStyle: thought.color,\n        },\n        isStatic: thought.isPinned,\n      });\n\n      bodiesRef.current.push(body);\n      Matter.World.add(engine.world, body);\n    });\n  }, [thoughts]);\n\n  return <Canvas ref={canvasRef} />;\n};\n\nexport default Whiteboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}